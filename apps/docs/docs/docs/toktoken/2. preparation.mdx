---
title: Preparation for Dev mode
sidebar_label: Preparation for Dev mode
sidebar_position: 2
---

import FigmaViewerImg from '/img/toktoken/toktoken-figma-viewer.png'
import FoundationrImg from '/img/toktoken/toktoken-foundation.png'
import LoadAllPageImg from '/img/toktoken/toktoken-loadallpage.png'



# Preparation for Dev mode

`Toktoken`플러그인을 `개발자 모드(Dev mode)`에서 사용하기 위해서는 약간의 설정이 필요합니다.

:::tip `Toktoken` 플러그인을 디자인 모드에서 사용하신다면 이 단계는 건너뛰셔도 됩니다.
:::

## Summary

- **Permission:** 
  - 읽기 전용입니다.
  - `접근(access)` 권한만 있는 사용자는 사용할 수 없으니, `보기(view)` 권한이 없다면 담당 디자이너에게 요청해주세요.
- **Access Control:** 
  - 프로젝트 첫 로드시 `variables` 이 추출되지 않는 경우에는 `[작업중]` 페이지와 같이 `variables`이 적용되어있는 페이지에 접근 하신 후 `toktoken`플러그인을 재실행(🔄) 시켜주세요.
- **Visual Studio Code:** vs code용 figma에서도 사용 할 수 있습니다.

## Details

### Permission Guide

`toktoken`을 Dev mode에서 사용하기 위해서는 보기 권한이 있어야 합니다.
피그마 데스크탑 우측 상단 `Share` 버튼을 클릭해 `can view` 로 설정되어 있는지 확인해주세요.
설정 할 권한이 없다면, 담당 디자이너님께 요청해주세요.

:::info 권한 설정 하신 후에는 피그마와 플러그인을 모두 재실행(🔄) 시켜주세요.
:::

<img src={FigmaViewerImg} alt="figma-viewer" style={{ width: 600 }} />
<hr />

### Access Control Guide

프로젝트 첫 로드시 `variables` 이 추출되지 않는 경우에는 `↪ Foundation`페이지가 없는 것이니 `[작업중]` 페이지와 같이 `variables`이 적용되어있는 페이지에 접근 하신 후 `toktoken`플러그인을 재실행(🔄) 시켜주세요.
<img src={FoundationrImg} alt="figma-viewer" style={{ width: 600 }} />
<br/>
<br/>


:::tip 왜 바로 추출이 되지 않나요?
  개발자 모드의 플러그인은 파일의 모든 페이지를 가져오지 않습니다.
기본적으로 **개발자 모드의 플러그인은 사용자의 현재 페이지에서만 실행됩니다.**
그래서 `variables`가 지정되지 않은 페이지에서 `Toktoken`을 실행하면 `variables`가 올바르게 추출되지 않는 현상이 발생할 수 있습니다.

이러한 이유로 `Toktoken`은 뉴 디자인 시스템 기준으로 `↪ Foundation` 페이지를 미리로드하여 어떤 페이지이든 첫 접근 시에도 데이터가 출력되도록 구성되어 있습니다.

:::note **전체 페이지를 불러오는 방법이 있지 않나요?**
   [loadallpagesasync](https://www.figma.com/plugin-docs/api/figma/#loadallpagesasync) 라는 figma plugin api가 있습니다.
  하지만, 프로젝트의 규모가 커질 수록 전체 페이지를 로드하게 되면 데이터를 불러오는데 상당한 시간이 소요되므로 동적 페이지 로드를 선택했습니다.
  <img src={LoadAllPageImg} alt="figma-viewer" style={{ width: 600 }} />
:::



### Reference

[[fimga Docs] plugins-in-dev-mode](https://www.figma.com/plugin-docs/working-in-dev-mode/#key-differences-between-plugins-in-dev-mode-and-other-plugins)

