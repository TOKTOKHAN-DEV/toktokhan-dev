---
sidebar_position: 4
---

import TabItem from '@theme/TabItem'
import Tabs from '@theme/Tabs'

# Next steps for developer

## Prepare

token json 파일이 프로젝트 경로에 다운로드 되었는지 확인해주세요.

:::info
token json 은 Toktoken 피그마 플러그인에서 제공하는 json 파일입니다.
자세한 사항은 Toktoken 가이드를 참고해주세요.
:::

<details>
  <summary>token json example</summary>
  <div>

    ```json title="token.json"

    {
      "colors": {
        "colorSchema": {
          "grey-white": {
            "id": "VariableID:3162:9787",
            "value": "#ffffff"
          },
          ...
        },
        "semanticTokens": {
          "support-success-accent": {
            "light": {
              "id": "VariableID:3162:9888",
              "refId": "VariableID:3162:9820",
              "ref": "green-700",
              "value": "#216e3b"
            },
            "dark": {
              "id": "VariableID:3162:9888",
              "refId": "VariableID:3162:9818",
              "ref": "green-500",
              "value": "#22a04c"
            }
          }
          ...
        },
      },
      "textStyles": {
        "pre-display-01": {
          "fontWeight": 800,
          "fontFamily": "Pretendard Variable",
          "fontSize": "120px",
          "lineHeight": "139.9999976158142%",
          "letterSpacing": "-2%",
          "textDecoration": "none"
        },
        ...
      }
    }
    ```

  </div>
</details>

## Installation

필요한 패키지를 다운로드 합니다.

- @toktokhan-dev/cli: 다양한 스크립트를 실행, 등록할 수 있는 패키지입니다.
- @toktokhan-dev/cli-plugin-gen-theme-chakra: json 을 읽어 chakra-ui theme 파일을 생성하는 패키지입니다.

<Tabs>
  <TabItem value="yarn" label="yarn" default>

    ```bash
    yarn add -D @toktokhan-dev/cli @toktokhan-dev/cli-plugin-gen-theme-chakra
    ```

  </TabItem>
  <TabItem value="npm" label="npm">

    ```bash
    npm i -D @toktokhan-dev/cli @toktokhan-dev/cli-plugin-gen-theme-chakra
    ```

  </TabItem>
  <TabItem value="pnpm" label="pnpm">

    ```bash
    pnpm add -D @toktokhan-dev/cli @toktokhan-dev/cli-plugin-gen-theme-chakra
    ```

  </TabItem>
</Tabs>

:::info
플러그인 생성, 실행에 관련하여 더 자세히 알고싶다면 **[Toktokhan CLI 가이드](https://toktokhan-dev.github.io/cli/)** 를 참고해주세요.
:::

## Configuration

```ts title="tok-cli.config.ts"
import { RootConfig } from '@toktokhan-dev/cli';
import { genTheme } from '@toktokhan-dev/cli-plugin-gen-theme-chakra';

const config: RootConfig<{
  plugins: [typeof genTheme]; // option 타입 정의
}> = {
  plugins: [genTheme], // 플러그인 등록
  'gen:theme': { // 플러그인 옵션
    inputPath: 'public/token.json'
    outputPath: 'src/generated/theme'
  },
};

export default config;

```

## Run Script

<Tabs>
  <TabItem value="cli" label="CLI" default>
    ```bash
    npx tokript gen:theme
    ```
  </TabItem>
  <TabItem value="Interactive-cli" label="Interactive CLI">
    ```bash
    npx tokript
    ```
  </TabItem>
</Tabs>




:::tip
자주 사용될 수 있는 스크립트는 협업간 편의성을 위해 `package.json`에 등록하는걸 권장 드립니다.

```json title="package.json"
{
  ...
  "scripts": {
    "tokript": "tokript",
    "gen:theme": "tokript gen:theme"
  }
}
```

```bash title="bash"
yarn gen:theme or yarn tokript
```

:::

## To Chakra Theme

`gen:theme` 스크립트 실행 후 생성된 파일을 chakra-ui theme 파일로 등록합니다.

<Tabs>
  <TabItem value="chakra" label="chakra theme" default>

```ts title="theme/index.ts"
   import { extendTheme } from '@chakra-ui/react';
   import { textStyles } from '@/generated/theme/textStyles';
   import { colors } from '@/generated/theme/colors';

   const theme = {
     semanticTokens: {
       colors: : {
         ...colors
       }
     },
     textStyles: {
       ...textStyles
     },
     breakpoints: {
       // breakpoints
     },
     components: {
       // components
     },
     ...
   }
```

</TabItem>
<TabItem value="gen:color" label="generated color">

```ts title="@/generated/theme/colors.ts"
/**
 * !DO NOT EDIT THIS FILE
 *
 * gnerated by script: tokript gen:theme
 *
 * theme color 를 정의하는 곳입니다.
 * dark 모드를 대응하기 위해 semantic token 을 사용해서 정의합니다.
 *
 * @see https://chakra-ui.com/docs/styled-system/semantic-tokens
 **/

export const colorSchema = {
  'grey.100': '#f5f5f5',
  ...
}

export const colors = {
  'support.success.accent': {
    default: colorSchema['green.700'],
    _dark: colorSchema['green.500'],
  },
  ...
}
```

</TabItem>
<TabItem value="gen:textStyle" label="generated text-styles">

```ts title="@/generated/theme/textStyles"
/**
 * !DO NOT EDIT THIS FILE
 *
 * gnerated by script: tokript gen:theme
 *
 * theme text style 을 정의하는 곳입니다.
 *
 * @see https://chakra-ui.com/docs/styled-system/semantic-tokens
 **/

export const textStyles = {
  'pre-display-01': {
    fontWeight: 800,
    fontFamily: 'Pretendard Variable',
    fontSize: {
      base: '48px',
      sm: '80px',
      md: '80px',
    },
    lineHeight: {
      base: '150%',
      sm: '139.9999976158142%',
      md: '139.9999976158142%',
    },
    letterSpacing: '-0.02em',
    textDecoration: 'none',
  },
  ...
}
```

</TabItem>
</Tabs>
